{"cells":[{"cell_type":"code","source":["pip install instagrapi\n"],"metadata":{"id":"YwF2YKQG2Bv2","executionInfo":{"status":"ok","timestamp":1737699169494,"user_tz":-330,"elapsed":23741,"user":{"displayName":"SIDDANATHI PAVAN TARAK","userId":"17282205336493275718"}},"outputId":"8e4714c8-7ddd-46cd-a2fd-9abe83da3ce3","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":1,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting instagrapi\n","  Downloading instagrapi-2.1.3.tar.gz (102 kB)\n","\u001b[?25l     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m0.0/102.6 kB\u001b[0m \u001b[31m?\u001b[0m eta \u001b[36m-:--:--\u001b[0m\r\u001b[2K     \u001b[91m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[91m╸\u001b[0m \u001b[32m102.4/102.6 kB\u001b[0m \u001b[31m5.7 MB/s\u001b[0m eta \u001b[36m0:00:01\u001b[0m\r\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m102.6/102.6 kB\u001b[0m \u001b[31m2.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25h  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Requirement already satisfied: requests<3.0,>=2.25.1 in /usr/local/lib/python3.11/dist-packages (from instagrapi) (2.32.3)\n","Requirement already satisfied: PySocks==1.7.1 in /usr/local/lib/python3.11/dist-packages (from instagrapi) (1.7.1)\n","Collecting pydantic==2.10.1 (from instagrapi)\n","  Downloading pydantic-2.10.1-py3-none-any.whl.metadata (169 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m169.7/169.7 kB\u001b[0m \u001b[31m2.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hCollecting pycryptodomex==3.21.0 (from instagrapi)\n","  Downloading pycryptodomex-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)\n","Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.11/dist-packages (from pydantic==2.10.1->instagrapi) (0.7.0)\n","Collecting pydantic-core==2.27.1 (from pydantic==2.10.1->instagrapi)\n","  Downloading pydantic_core-2.27.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)\n","Requirement already satisfied: typing-extensions>=4.12.2 in /usr/local/lib/python3.11/dist-packages (from pydantic==2.10.1->instagrapi) (4.12.2)\n","Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.11/dist-packages (from requests<3.0,>=2.25.1->instagrapi) (3.4.1)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.11/dist-packages (from requests<3.0,>=2.25.1->instagrapi) (3.10)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.11/dist-packages (from requests<3.0,>=2.25.1->instagrapi) (2.3.0)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.11/dist-packages (from requests<3.0,>=2.25.1->instagrapi) (2024.12.14)\n","Downloading pycryptodomex-3.21.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m2.3/2.3 MB\u001b[0m \u001b[31m23.2 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading pydantic-2.10.1-py3-none-any.whl (455 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m455.3/455.3 kB\u001b[0m \u001b[31m17.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading pydantic_core-2.27.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m2.1/2.1 MB\u001b[0m \u001b[31m37.3 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hBuilding wheels for collected packages: instagrapi\n","  Building wheel for instagrapi (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for instagrapi: filename=instagrapi-2.1.3-py3-none-any.whl size=116361 sha256=14fe8cc97d9206b9e01f383769288901154b46fc245dd58e23d21833692cb277\n","  Stored in directory: /root/.cache/pip/wheels/31/c0/63/7ad4ef727751385676d1987f63b99b76c56adbbd043c17aa59\n","Successfully built instagrapi\n","Installing collected packages: pydantic-core, pycryptodomex, pydantic, instagrapi\n","  Attempting uninstall: pydantic-core\n","    Found existing installation: pydantic_core 2.27.2\n","    Uninstalling pydantic_core-2.27.2:\n","      Successfully uninstalled pydantic_core-2.27.2\n","  Attempting uninstall: pydantic\n","    Found existing installation: pydantic 2.10.5\n","    Uninstalling pydantic-2.10.5:\n","      Successfully uninstalled pydantic-2.10.5\n","Successfully installed instagrapi-2.1.3 pycryptodomex-3.21.0 pydantic-2.10.1 pydantic-core-2.27.1\n"]}]},{"cell_type":"code","source":["from instagrapi import Client\n","import matplotlib.pyplot as plt\n","\n","cl = Client()\n","cl.login(\"tarak_pavan2005\", \"Pavan@2908\")\n","user_info = cl.user_info_by_username(\"indiancricketteam\")\n","\n","media = cl.user_medias(user_info.pk, 20)\n","likes_list = []\n","comments_list = []\n","engagement_rates = []\n","post_urls = []\n","for post in media:\n","    likes = post.like_count\n","    comments = post.comment_count\n","    followers = user_info.follower_count\n","    engagement_rate = ((likes + comments) / followers) * 100\n","    post_url = f\"https://www.instagram.com/p/{post.code}/\"\n","\n","    likes_list.append(likes)\n","    comments_list.append(comments)\n","    engagement_rates.append(engagement_rate)\n","    post_urls.append(post_url)\n","\n","for i in range(len(media)):\n","    print(f\"Post {i + 1}:\")\n","    print(f\"  Likes: {likes_list[i]}\")\n","    print(f\"  Comments: {comments_list[i]}\")\n","    print(f\"  Engagement Rate: {engagement_rates[i]:.2f}%\")\n","    print(f\"  Post URL: {post_urls[i]}\")\n","    print(\"-\" * 40)\n","\n","plt.figure(figsize=(10, 6))\n","plt.plot(range(1, 21), engagement_rates, marker='o', linestyle='-', color='b', label=\"Engagement Rate\")\n","plt.title(\"Engagement Rate for First 20 Posts of 'indiancricketteam'\", fontsize=14)\n","plt.xlabel(\"Post Number\", fontsize=12)\n","plt.ylabel(\"Engagement Rate (%)\", fontsize=12)\n","plt.xticks(range(1, 21))\n","plt.grid(True)\n","plt.legend()\n","plt.show()\n"],"metadata":{"id":"XD-9rISe2EQa"},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"toc_visible":true,"provenance":[{"file_id":"/v2/external/notebooks/intro.ipynb","timestamp":1737699098728}]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}